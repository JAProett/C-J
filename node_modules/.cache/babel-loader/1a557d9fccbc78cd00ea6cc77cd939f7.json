{"remainingRequest":"/Users/jamesproett/Documents/CJ-Wedding/carly-james/node_modules/babel-loader/lib/index.js!/Users/jamesproett/Documents/CJ-Wedding/carly-james/node_modules/quasar/src/directives/TouchHold.js","dependencies":[{"path":"/Users/jamesproett/Documents/CJ-Wedding/carly-james/node_modules/quasar/src/directives/TouchHold.js","mtime":499162500000},{"path":"/Users/jamesproett/Documents/CJ-Wedding/carly-james/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jamesproett/Documents/CJ-Wedding/carly-james/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgeyBjbGllbnQgfSBmcm9tICcuLi9wbHVnaW5zL1BsYXRmb3JtLmpzJzsKaW1wb3J0IHsgYWRkRXZ0LCBjbGVhbkV2dCwgZ2V0VG91Y2hUYXJnZXQgfSBmcm9tICcuLi91dGlscy90b3VjaC5qcyc7CmltcG9ydCB7IHBvc2l0aW9uLCBsZWZ0Q2xpY2ssIHN0b3BBbmRQcmV2ZW50IH0gZnJvbSAnLi4vdXRpbHMvZXZlbnQuanMnOwppbXBvcnQgeyBjbGVhclNlbGVjdGlvbiB9IGZyb20gJy4uL3V0aWxzL3NlbGVjdGlvbi5qcyc7CgpmdW5jdGlvbiB1cGRhdGUoZWwsIGJpbmRpbmcpIHsKICB2YXIgY3R4ID0gZWwuX19xdG91Y2hob2xkOwoKICBpZiAoY3R4ICE9PSB2b2lkIDApIHsKICAgIGlmIChiaW5kaW5nLm9sZFZhbHVlICE9PSBiaW5kaW5nLnZhbHVlKSB7CiAgICAgIGN0eC5oYW5kbGVyID0gYmluZGluZy52YWx1ZTsKICAgIH0gLy8gZHVyYXRpb24gaW4gbXMsIHRvdWNoIGluIHBpeGVscywgbW91c2UgaW4gcGl4ZWxzCgoKICAgIHZhciBkYXRhID0gWzYwMCwgNSwgN107CgogICAgaWYgKHR5cGVvZiBiaW5kaW5nLmFyZyA9PT0gJ3N0cmluZycgJiYgYmluZGluZy5hcmcubGVuZ3RoKSB7CiAgICAgIGJpbmRpbmcuYXJnLnNwbGl0KCc6JykuZm9yRWFjaChmdW5jdGlvbiAodmFsLCBpbmRleCkgewogICAgICAgIHZhciB2ID0gcGFyc2VJbnQodmFsLCAxMCk7CiAgICAgICAgdiAmJiAoZGF0YVtpbmRleF0gPSB2KTsKICAgICAgfSk7CiAgICB9CgogICAgY3R4LmR1cmF0aW9uID0gZGF0YVswXTsKICAgIGN0eC50b3VjaFNlbnNpdGl2aXR5ID0gZGF0YVsxXTsKICAgIGN0eC5tb3VzZVNlbnNpdGl2aXR5ID0gZGF0YVsyXTsKICB9Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndG91Y2gtaG9sZCcsCiAgYmluZDogZnVuY3Rpb24gYmluZChlbCwgYmluZGluZykgewogICAgdmFyIG1vZGlmaWVycyA9IGJpbmRpbmcubW9kaWZpZXJzOyAvLyBlYXJseSByZXR1cm4sIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcKCiAgICBpZiAobW9kaWZpZXJzLm1vdXNlICE9PSB0cnVlICYmIGNsaWVudC5oYXMudG91Y2ggIT09IHRydWUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBjdHggPSB7CiAgICAgIG1vdXNlU3RhcnQ6IGZ1bmN0aW9uIG1vdXNlU3RhcnQoZXZ0KSB7CiAgICAgICAgaWYgKGxlZnRDbGljayhldnQpID09PSB0cnVlKSB7CiAgICAgICAgICBhZGRFdnQoY3R4LCAndGVtcCcsIFtbZG9jdW1lbnQsICdtb3VzZW1vdmUnLCAnbW91c2VNb3ZlJywgJ25vdFBhc3NpdmVDYXB0dXJlJ10sIFtkb2N1bWVudCwgJ2NsaWNrJywgJ2VuZCcsICdub3RQYXNzaXZlQ2FwdHVyZSddXSk7CiAgICAgICAgICBjdHguc3RhcnQoZXZ0LCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1vdXNlTW92ZTogZnVuY3Rpb24gbW91c2VNb3ZlKGV2dCkgewogICAgICAgIHZhciBfcG9zaXRpb24gPSBwb3NpdGlvbihldnQpLAogICAgICAgICAgICB0b3AgPSBfcG9zaXRpb24udG9wLAogICAgICAgICAgICBsZWZ0ID0gX3Bvc2l0aW9uLmxlZnQ7CgogICAgICAgIGlmIChNYXRoLmFicyhsZWZ0IC0gY3R4Lm9yaWdpbi5sZWZ0KSA+PSBjdHgubW91c2VTZW5zaXRpdml0eSB8fCBNYXRoLmFicyh0b3AgLSBjdHgub3JpZ2luLnRvcCkgPj0gY3R4Lm1vdXNlU2Vuc2l0aXZpdHkpIHsKICAgICAgICAgIGN0eC5lbmQoZXZ0KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChldnQsIG1vdXNlRXZlbnQpIHsKICAgICAgICBjdHgub3JpZ2luID0gcG9zaXRpb24oZXZ0KTsKICAgICAgICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTsKCiAgICAgICAgaWYgKGNsaWVudC5pcy5tb2JpbGUgPT09IHRydWUpIHsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnbm9uLXNlbGVjdGFibGUnKTsKICAgICAgICAgIGNsZWFyU2VsZWN0aW9uKCk7CiAgICAgICAgfQoKICAgICAgICBjdHgudHJpZ2dlcmVkID0gZmFsc2U7CiAgICAgICAgY3R4LnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjbGVhclNlbGVjdGlvbigpOwogICAgICAgICAgY3R4LnRyaWdnZXJlZCA9IHRydWU7CiAgICAgICAgICBjdHguaGFuZGxlcih7CiAgICAgICAgICAgIGV2dDogZXZ0LAogICAgICAgICAgICB0b3VjaDogbW91c2VFdmVudCAhPT0gdHJ1ZSwKICAgICAgICAgICAgbW91c2U6IG1vdXNlRXZlbnQgPT09IHRydWUsCiAgICAgICAgICAgIHBvc2l0aW9uOiBjdHgub3JpZ2luLAogICAgICAgICAgICBkdXJhdGlvbjogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZQogICAgICAgICAgfSk7CiAgICAgICAgfSwgY3R4LmR1cmF0aW9uKTsKICAgICAgfSwKICAgICAgZW5kOiBmdW5jdGlvbiBlbmQoZXZ0KSB7CiAgICAgICAgY2xlYW5FdnQoY3R4LCAndGVtcCcpOwoKICAgICAgICBpZiAoY3R4LnRyaWdnZXJlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgaWYgKGNsaWVudC5pcy5tb2JpbGUgPT09IHRydWUpIHsKICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb24oKTsgLy8gZGVsYXkgbmVlZGVkIG90aGVyd2lzZSBzZWxlY3Rpb24gc3RpbGwgb2NjdXJzCgogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ25vbi1zZWxlY3RhYmxlJyk7CiAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzdG9wQW5kUHJldmVudChldnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjbGllbnQuaXMubW9iaWxlID09PSB0cnVlICYmIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbm9uLXNlbGVjdGFibGUnKTsKICAgICAgICAgIGNsZWFyVGltZW91dChjdHgudGltZXIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdG91Y2hTdGFydDogZnVuY3Rpb24gdG91Y2hTdGFydChldnQpIHsKICAgICAgICBpZiAoZXZ0LnRhcmdldCAhPT0gdm9pZCAwKSB7CiAgICAgICAgICB2YXIgdGFyZ2V0ID0gZ2V0VG91Y2hUYXJnZXQoZXZ0LnRhcmdldCk7CiAgICAgICAgICBhZGRFdnQoY3R4LCAndGVtcCcsIFtbdGFyZ2V0LCAndG91Y2htb3ZlJywgJ3RvdWNoTW92ZScsICdub3RQYXNzaXZlQ2FwdHVyZSddLCBbdGFyZ2V0LCAndG91Y2hjYW5jZWwnLCAnZW5kJywgJ25vdFBhc3NpdmVDYXB0dXJlJ10sIFt0YXJnZXQsICd0b3VjaGVuZCcsICdlbmQnLCAnbm90UGFzc2l2ZUNhcHR1cmUnXV0pOwogICAgICAgICAgY3R4LnN0YXJ0KGV2dCk7CiAgICAgICAgfQogICAgICB9LAogICAgICB0b3VjaE1vdmU6IGZ1bmN0aW9uIHRvdWNoTW92ZShldnQpIHsKICAgICAgICB2YXIgX3Bvc2l0aW9uMiA9IHBvc2l0aW9uKGV2dCksCiAgICAgICAgICAgIHRvcCA9IF9wb3NpdGlvbjIudG9wLAogICAgICAgICAgICBsZWZ0ID0gX3Bvc2l0aW9uMi5sZWZ0OwoKICAgICAgICBpZiAoTWF0aC5hYnMobGVmdCAtIGN0eC5vcmlnaW4ubGVmdCkgPj0gY3R4LnRvdWNoU2Vuc2l0aXZpdHkgfHwgTWF0aC5hYnModG9wIC0gY3R4Lm9yaWdpbi50b3ApID49IGN0eC50b3VjaFNlbnNpdGl2aXR5KSB7CiAgICAgICAgICBjdHguZW5kKGV2dCk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwoKICAgIGlmIChlbC5fX3F0b3VjaGhvbGQpIHsKICAgICAgZWwuX19xdG91Y2hob2xkX29sZCA9IGVsLl9fcXRvdWNoaG9sZDsKICAgIH0KCiAgICBlbC5fX3F0b3VjaGhvbGQgPSBjdHg7CiAgICB1cGRhdGUoZWwsIGJpbmRpbmcpOwogICAgbW9kaWZpZXJzLm1vdXNlID09PSB0cnVlICYmIGFkZEV2dChjdHgsICdtYWluJywgW1tlbCwgJ21vdXNlZG93bicsICdtb3VzZVN0YXJ0JywgInBhc3NpdmUiLmNvbmNhdChtb2RpZmllcnMubW91c2VDYXB0dXJlID09PSB0cnVlID8gJ0NhcHR1cmUnIDogJycpXV0pOwogICAgY2xpZW50Lmhhcy50b3VjaCA9PT0gdHJ1ZSAmJiBhZGRFdnQoY3R4LCAnbWFpbicsIFtbZWwsICd0b3VjaHN0YXJ0JywgJ3RvdWNoU3RhcnQnLCAicGFzc2l2ZSIuY29uY2F0KG1vZGlmaWVycy5jYXB0dXJlID09PSB0cnVlID8gJ0NhcHR1cmUnIDogJycpXV0pOwogIH0sCiAgdXBkYXRlOiB1cGRhdGUsCiAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoZWwpIHsKICAgIHZhciBjdHggPSBlbC5fX3F0b3VjaGhvbGRfb2xkIHx8IGVsLl9fcXRvdWNoaG9sZDsKCiAgICBpZiAoY3R4ICE9PSB2b2lkIDApIHsKICAgICAgY2xlYW5FdnQoY3R4LCAnbWFpbicpOwogICAgICBjbGVhbkV2dChjdHgsICd0ZW1wJyk7CiAgICAgIGNsZWFyVGltZW91dChjdHgudGltZXIpOwogICAgICBjbGllbnQuaXMubW9iaWxlID09PSB0cnVlICYmIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbm9uLXNlbGVjdGFibGUnKTsKICAgICAgZGVsZXRlIGVsW2VsLl9fcXRvdWNoaG9sZF9vbGQgPyAnX19xdG91Y2hob2xkX29sZCcgOiAnX19xdG91Y2hob2xkJ107CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/jamesproett/Documents/CJ-Wedding/carly-james/node_modules/quasar/src/directives/TouchHold.js"],"names":["client","addEvt","cleanEvt","getTouchTarget","position","leftClick","stopAndPrevent","clearSelection","update","el","binding","ctx","__qtouchhold","oldValue","value","handler","data","arg","length","split","forEach","val","index","v","parseInt","duration","touchSensitivity","mouseSensitivity","name","bind","modifiers","mouse","has","touch","mouseStart","evt","document","start","mouseMove","top","left","Math","abs","origin","end","mouseEvent","startTime","Date","now","is","mobile","body","classList","add","triggered","timer","setTimeout","remove","clearTimeout","touchStart","target","touchMove","__qtouchhold_old","mouseCapture","capture","unbind"],"mappings":"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","sourcesContent":["import { client } from '../plugins/Platform.js'\nimport { addEvt, cleanEvt, getTouchTarget } from '../utils/touch.js'\nimport { position, leftClick, stopAndPrevent } from '../utils/event.js'\nimport { clearSelection } from '../utils/selection.js'\n\nfunction update (el, binding) {\n  const ctx = el.__qtouchhold\n\n  if (ctx !== void 0) {\n    if (binding.oldValue !== binding.value) {\n      ctx.handler = binding.value\n    }\n\n    // duration in ms, touch in pixels, mouse in pixels\n    const data = [600, 5, 7]\n\n    if (typeof binding.arg === 'string' && binding.arg.length) {\n      binding.arg.split(':').forEach((val, index) => {\n        const v = parseInt(val, 10)\n        v && (data[index] = v)\n      })\n    }\n\n    [ ctx.duration, ctx.touchSensitivity, ctx.mouseSensitivity ] = data\n  }\n}\n\nexport default {\n  name: 'touch-hold',\n\n  bind (el, binding) {\n    const { modifiers } = binding\n\n    // early return, we don't need to do anything\n    if (modifiers.mouse !== true && client.has.touch !== true) {\n      return\n    }\n\n    const ctx = {\n      mouseStart (evt) {\n        if (leftClick(evt) === true) {\n          addEvt(ctx, 'temp', [\n            [ document, 'mousemove', 'mouseMove', 'notPassiveCapture' ],\n            [ document, 'click', 'end', 'notPassiveCapture' ]\n          ])\n          ctx.start(evt, true)\n        }\n      },\n\n      mouseMove (evt) {\n        const { top, left } = position(evt)\n        if (\n          Math.abs(left - ctx.origin.left) >= ctx.mouseSensitivity ||\n          Math.abs(top - ctx.origin.top) >= ctx.mouseSensitivity\n        ) {\n          ctx.end(evt)\n        }\n      },\n\n      start (evt, mouseEvent) {\n        ctx.origin = position(evt)\n\n        const startTime = Date.now()\n\n        if (client.is.mobile === true) {\n          document.body.classList.add('non-selectable')\n          clearSelection()\n        }\n\n        ctx.triggered = false\n\n        ctx.timer = setTimeout(() => {\n          clearSelection()\n          ctx.triggered = true\n\n          ctx.handler({\n            evt,\n            touch: mouseEvent !== true,\n            mouse: mouseEvent === true,\n            position: ctx.origin,\n            duration: Date.now() - startTime\n          })\n        }, ctx.duration)\n      },\n\n      end (evt) {\n        cleanEvt(ctx, 'temp')\n\n        if (ctx.triggered === true) {\n          if (client.is.mobile === true) {\n            clearSelection()\n            // delay needed otherwise selection still occurs\n            setTimeout(() => {\n              document.body.classList.remove('non-selectable')\n            }, 10)\n          }\n          stopAndPrevent(evt)\n        }\n        else {\n          client.is.mobile === true && document.body.classList.remove('non-selectable')\n          clearTimeout(ctx.timer)\n        }\n      },\n\n      touchStart (evt) {\n        if (evt.target !== void 0) {\n          const target = getTouchTarget(evt.target)\n          addEvt(ctx, 'temp', [\n            [ target, 'touchmove', 'touchMove', 'notPassiveCapture' ],\n            [ target, 'touchcancel', 'end', 'notPassiveCapture' ],\n            [ target, 'touchend', 'end', 'notPassiveCapture' ]\n          ])\n          ctx.start(evt)\n        }\n      },\n\n      touchMove (evt) {\n        const { top, left } = position(evt)\n        if (\n          Math.abs(left - ctx.origin.left) >= ctx.touchSensitivity ||\n          Math.abs(top - ctx.origin.top) >= ctx.touchSensitivity\n        ) {\n          ctx.end(evt)\n        }\n      }\n    }\n\n    if (el.__qtouchhold) {\n      el.__qtouchhold_old = el.__qtouchhold\n    }\n\n    el.__qtouchhold = ctx\n\n    update(el, binding)\n\n    modifiers.mouse === true && addEvt(ctx, 'main', [\n      [ el, 'mousedown', 'mouseStart', `passive${modifiers.mouseCapture === true ? 'Capture' : ''}` ]\n    ])\n\n    client.has.touch === true && addEvt(ctx, 'main', [\n      [ el, 'touchstart', 'touchStart', `passive${modifiers.capture === true ? 'Capture' : ''}` ]\n    ])\n  },\n\n  update,\n\n  unbind (el) {\n    const ctx = el.__qtouchhold_old || el.__qtouchhold\n    if (ctx !== void 0) {\n      cleanEvt(ctx, 'main')\n      cleanEvt(ctx, 'temp')\n\n      clearTimeout(ctx.timer)\n      client.is.mobile === true && document.body.classList.remove('non-selectable')\n\n      delete el[el.__qtouchhold_old ? '__qtouchhold_old' : '__qtouchhold']\n    }\n  }\n}\n"]}]}